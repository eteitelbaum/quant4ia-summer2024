{
  "hash": "0946c65fb98e98e0b428fb3e4f0658df",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Modeling\ndate: today\ndate-format: long\nfooter: \"[IAFF 6501 Website](https://quant4ia.rocks/)\"\nlogo: images/iaff6501-logo.png\nformat:\n  revealjs:\n    theme: [simple, custom.scss]\n    transition: fade\n    slide-number: true\n    #multiplex: true\n    chalkboard: true\nexecute:\n  echo: false\n  message: false\n  warning: false\n  freeze: auto\n---\n\n::: {.cell}\n\n:::\n\n\n\n## Modeling \n\n::: {.incremental}\n- Use models to explain the relationship between variables and to make predictions\n- Explaining relationships [usually interested in causal relationships, but not always]\n    - Does oil wealth impact regime type?\n- Predictive modeling\n    - Where is violence most likely to happen in [country X] during their next election?\n    - Is this email spam?\n:::\n    \n## Modeling\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-9.1_files/figure-revealjs/linear-model-1.png){width=960}\n:::\n:::\n\n\n## Modeling\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-9.1_files/figure-revealjs/nonlinear-model-1.png){width=960}\n:::\n:::\n\n\n# Example: GDP per capita and Democracy\n\n## Pull in the VDEM Data\n\n<br>\n\nWhat is this code doing?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(vdemdata)\n\nmodelData <- vdem |>\n  filter(year == 2019) |> \n  select(\n    country = country_name, \n    lib_dem = v2x_libdem, \n    wealth = e_gdppc) |>\n  mutate(log_wealth = log(wealth))\n\nglimpse(modelData)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 179\nColumns: 4\n$ country    <chr> \"Mexico\", \"Suriname\", \"Sweden\", \"Switzerland\", \"Ghana\", \"So…\n$ lib_dem    <dbl> 0.433, 0.593, 0.875, 0.870, 0.614, 0.601, 0.754, 0.267, 0.1…\n$ wealth     <dbl> 16.814, 11.752, 48.804, 56.110, 5.608, 11.345, 39.061, 5.69…\n$ log_wealth <dbl> 2.8222119, 2.4640234, 3.8878123, 4.0273140, 1.7241941, 2.42…\n```\n\n\n:::\n:::\n\n\n## Plot the Relationship\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-9.1_files/figure-revealjs/plot-wealth-dem-1-1.png){width=960}\n:::\n:::\n\n\n## Plot the Relationship\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-9.1_files/figure-revealjs/plot-wealth-dem-2-1.png){width=960}\n:::\n:::\n\n\n## Plot the Relationship\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(modelData, aes(x = wealth, y = lib_dem)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", color = \"#E48957\", se = FALSE) +\n  labs(x = \"GPD per capita\", y = \"Liberal Democracy Index\") +\n  theme_bw()\n```\n:::\n\n\n## Using the Scales Package\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-9.1_files/figure-revealjs/plot-wealth-dem-4-1.png){width=960}\n:::\n:::\n\n\n## Using the Scales Package\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1,4\"}\nggplot(modelData, aes(x = wealth, y = lib_dem)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", color = \"#E48957\", se = FALSE) +\n  scale_x_log10(label = scales::label_dollar(suffix = \"k\")) +\n  labs(\n    title = \"Wealth and Democracy, 2019\",\n    x = \"GPD per capita\", \n    y = \"Liberal Democracy Index\") +\n  theme_bw()\n```\n:::\n\n\n## Models as Functions\n\n::: {.incremental}\n- We can represent relationships between variables using **functions**\n- A function is a mathematical concept: the relationship between an output and one or more inputs\n  - Plug in the inputs and receive back the output\n- Example: The formula $y = 3x + 7$ is a function with input $x$ and output $y$. \n    - If $x$ is $5$, $y$ is $22$, \n    - $y = 3 \\times 5 + 7 = 22$\n:::\n\n## Quant Lingo {.smaller}\n\n<br>\n\n::: {.incremental}\n- **Response variable:** Variable whose behavior or variation you are trying to understand, on the y-axis in the plot\n    - **Dependent** variable\n    - **Outcome** variable\n    - **Y** variable\n- **Explanatory variables:** Other variables that you want to use to explain the variation in the response, on the x-axis in the plot\n    - **Independent** variables\n    - **Predictors**\n:::\n\n## \n\n<br>\n\nLinear model with one explanatory variable...\n\n::: {.incremental}\n- $Y = a + bX$\n- $Y$ is the outcome variable\n- $X$ is the explanatory variable\n- $a$ is the intercept: the predicted value of $Y$ when $X$ is equal to 0\n- $b$ is the slope of the line [remember rise over run!]\n:::\n\n## Quant Lingo {.smaller}\n\n<br>\n\n::: {.incremental}\n- **Predicted value:** Output of the **model function**\n   - The model function gives the typical (expected) value of the response variable *conditioning* on the explanatory variables\n   - We often call this $\\hat{Y}$ to differentiate the predicted value from an observed value of Y in the data\n- **Residuals:** A measure of how far each case is from its predicted value (based on a particular model)\n  - Residual = Observed value ($Y$) - Predicted value ($\\hat{Y}$)\n  - How far above/below the expected value each case is\n:::\n\n## Residuals\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-9.1_files/figure-revealjs/unnamed-chunk-10-1.png){width=60%}\n:::\n:::\n\n\n\n## Linear Model\n\n$\\hat{Y} = a  + b \\times X$\n\n$\\hat{Y} = 0.13  + 0.12 \\times X$\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-9.1_files/figure-revealjs/unnamed-chunk-11-1.png){width=100%}\n:::\n:::\n\n\n## Linear Model: Interpretation\n\n<br>\n\n| $\\hat{Y} = a  + b \\times X$\n| $\\hat{Y} = 0.13  + 0.12 \\times X$\n\nWhat is the interpretation of our estimate of $a$?\n\n. . .\n\n<br>\n\n| $\\hat{Y} = 0.13  + 0.12 \\times 0$\n| $\\hat{Y} = 0.13$\n\n$a$ is our predicted level of democracy when GDP per capita is 0.\n\n\n## Linear Model: Interpretation \n<br>\n\n\n| $\\hat{Y} = a  + b \\times X$\n| $\\hat{Y} = 0.13  + 0.12 \\times X$\n\nWhat is interpretation of our estimate of $b$?\n\n. . . \n\n<br>\n\n| $\\hat{Y} = a  + \\frac{Rise}{Run} \\times X$\n| $\\hat{Y} = a  + \\frac{Change Y}{Change X} \\times X$\n\n## Linear Model: Interpretation {.smaller}\n\n<br>\n\n| $b = \\frac{Change Y}{Change X}$\n| $0.12 = \\frac{Change Y}{Change X}$\n| ${Change Y} = 0.12 * {ChangeX}$\n\n. . .\n\n<br>\n\n| When $ChangeX = 1$:\n| ${Change Y = 0.12}$\n\n. . .\n\n<br>\n\n| $b$ is the predicted change in $Y$ **associated with** a ONE unit change in X.\n\n## Linear Model: Interpretation\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-9.1_files/figure-revealjs/unnamed-chunk-12-1.png){width=960}\n:::\n:::\n\n\n## Linear Model: Interpretation\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-9.1_files/figure-revealjs/unnamed-chunk-13-1.png){width=960}\n:::\n:::\n\n\n## Linear Model: Interpretation\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-9.1_files/figure-revealjs/unnamed-chunk-14-1.png){width=960}\n:::\n:::\n\n\n\n## Linear Model: Interpretation\n\n<br>\n\nIs this the **causal** effect of GDP per capita on liberal democracy?\n\n. . .\n\n<br>\n\nNo! It is only the association...\n\n. . .\n\n<br>\n\nTo identify causality we need other methods (beyond the scope of this course).\n\n## Your Task\n\n<br> \n\nAn economist is interested in the relationship between years of education and hourly wages.  They estimate a linear model with estimates of $a$ and $b$ as follows:\n\n<br>\n\n$\\hat{Y} = 9 + 1.60*{YrsEdu}$\n\n<br>\n\n| 1. Interpret $a$ and $b$\n| 2. What is the predicted hourly wage for those with 10 years of education?\n\n## Next step\n\n<br>\n\n- Linear model with one predictor: $Y = a + bX$\n- For any given data...\n- How do we figure out what the best values are for $a$ and $b$??",
    "supporting": [
      "week-9.1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}