{
  "hash": "ea87695b6c43c2437ea626293d769e91",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Regression Tables\nsubtitle: How to Interpret and Create\ndate: today\ndate-format: long\nfooter: \"[IAFF 6501 Website](https://quant4ia.rocks/)\"\nlogo: images/iaff6501-logo.png\nformat:\n  revealjs:\n    theme: [simple, custom.scss]\n    transition: fade\n    slide-number: true\n    #multiplex: true\n    chalkboard: true\nexecute:\n  echo: false\n  message: false\n  warning: false\n  freeze: auto\n---\n\n::: {.cell}\n\n:::\n\n\n# Multiple Logistic Regression\n\n## Multiple Logistic Regression\n\n<br>\n\n::: {.incremental}\n- Just as with linear models, we can also run multiple logistic regressions\n- We can include multiple predictors in the model\n- Usually we want to include our main predictor of interest and control variables\n- The interpetation of the coefficients is the same as in the bivariate models\n:::\n\n## \n\n<br>\n\nDownload the data using the `peacesciencer` package if you haven't already...\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconflict_df <- create_stateyears(system = 'gw') |>\n  filter(year %in% c(1946:1999)) |>\n  add_ucdp_acd(type=c(\"intrastate\"), only_wars = FALSE) |>\n  add_democracy() |>\n  add_creg_fractionalization() |>\n  add_sdp_gdp() |>\n  add_rugged_terrain()\n```\n:::\n\n\n## \n\n<br>\n\nExample, including multiple predictors associated with conflict:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconflict_model <- glm(ucdponset ~ ethfrac + relfrac + v2x_polyarchy + \n                          rugged + wbgdppc2011est + wbpopest,\n                  data= conflict_df,\n                  family = \"binomial\")\n\nsummary(conflict_model)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nglm(formula = ucdponset ~ ethfrac + relfrac + v2x_polyarchy + \n    rugged + wbgdppc2011est + wbpopest, family = \"binomial\", \n    data = conflict_df)\n\nCoefficients:\n               Estimate Std. Error z value Pr(>|z|)    \n(Intercept)    -5.69260    1.40788  -4.043 5.27e-05 ***\nethfrac         0.80005    0.38072   2.101  0.03560 *  \nrelfrac        -0.39138    0.41673  -0.939  0.34764    \nv2x_polyarchy  -0.60161    0.50879  -1.182  0.23704    \nrugged          0.06413    0.07603   0.843  0.39897    \nwbgdppc2011est -0.37188    0.12059  -3.084  0.00204 ** \nwbpopest        0.29318    0.06735   4.353 1.34e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 1182.5  on 6150  degrees of freedom\nResidual deviance: 1126.7  on 6144  degrees of freedom\n  (885 observations deleted due to missingness)\nAIC: 1140.7\n\nNumber of Fisher Scoring iterations: 7\n```\n\n\n:::\n:::\n\n\n## Predicted Probabilities\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\n# load the \nlibrary(marginaleffects)\n\n# seledct some countries for a given year\nselected_countries <- conflict_df |>\n  filter(\n    statename %in% c(\"United States of America\", \"Venezuela\", \"Rwanda\"),\n    year == 1999)\n\n# calculate margins for the subset\nmarg_effects <- predictions(conflict_model, newdata = selected_countries)\n\n# tidy the results\nlibrary(broom)\n\ntidy(marg_effects) |>\n  select(statename, estimate, p.value, conf.low, conf.high) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 Ã— 5\n  statename                estimate  p.value conf.low conf.high\n  <chr>                       <dbl>    <dbl>    <dbl>     <dbl>\n1 United States of America   0.0123 2.23e-28  0.00567    0.0264\n2 Venezuela                  0.0140 2.25e-70  0.00879    0.0222\n3 Rwanda                     0.0286 8.46e-39  0.0170     0.0477\n```\n\n\n:::\n:::\n\n\n## Your Turn! \n\n<br>\n\n- Run a multivariate logistic model using conflict onset as the outcome variable\n- Select alternative variables and/or alternative measures of the same variables\n- Interpret some of the coefficients \n- Calculate the precicted probability in a handful of country-years based on your analysis\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer1\" data-update-every=\"1\" tabindex=\"0\" style=\"right:10%;bottom:5%;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">10</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n# Regression Tables\n\n## What's in a Regression Table?\n\n![](images/fearon_laitin.png){fig-align=center}\n\n## Regression Tables with `modelsummary`\n\n<br>\n\n::: {.incremental}\n- Oftentimes we want to show multiple models at once (like F&L)\n- We want to compare across them and see which is the best model\n- How can we do that? \n- There are **many** ways to do this in R\n- We will use the `modelsummary` package\n:::\n\n## Run Multiple Models\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nethnicity <- glm(ucdponset ~ ethfrac + relfrac + wbgdppc2011est + wbpopest, # store each model in an object\n                  data = conflict_df,\n                  family = \"binomial\")\n\ndemocracy <- glm(ucdponset ~ v2x_polyarchy + wbgdppc2011est +  wbpopest,\n                  data = conflict_df,\n                  family = \"binomial\")\n\nterrain <- glm(ucdponset ~ rugged + wbgdppc2011est + wbpopest ,\n                  data = conflict_df,\n                  family = \"binomial\")\n\nfull_model <- glm(ucdponset ~ ethfrac + relfrac + v2x_polyarchy + rugged +\n                        wbgdppc2011est + wbpopest,\n                  data = conflict_df,\n                  family = \"binomial\")\n```\n:::\n\n\n\n## Prep Data for Display\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodels <- list(\"Ethnicity\" = ethnicity,  # store list of models in an object\n               \"Democracy\" = democracy, \n               \"Terrain\" = terrain, \n               \"Full Model\" = full_model)\n\ncoef_map <- c(\"ethfrac\" = \"Ethnic Frac\",  # map coefficients\n        \"relfrac\" = \"Religions Frac\",     #(change names and order)\n        \"v2x_polyarchy\" = \"Polyarchy\",\n        \"rugged\" = \"Terrain\",\n        \"wbgdppc2011est\" = \"Per capita GDP\",\n        \"wbpopest\" = \"Population\",\n        \"(Intercept)\" = \"Intercept\")\n\ncaption = \"Table 1: Predictors of Conflict Onset\" # store caption\nreference = \"See appendix for data sources.\"      # store reference notes\n```\n:::\n\n\n## Display the Models {.smaller}\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_mmbpz33idt27kawl1slv</title>\n    <style>\n.table td.tinytable_css_vi3fxj3oks1c5v08q3fx, .table th.tinytable_css_vi3fxj3oks1c5v08q3fx {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_b743nkjvco084pydr6sg, .table th.tinytable_css_b743nkjvco084pydr6sg {    text-align: left; }\n.table td.tinytable_css_aw7qc07l3wf9tqurfl14, .table th.tinytable_css_aw7qc07l3wf9tqurfl14 {    text-align: center; }\n.table td.tinytable_css_5amb682chsay5gfp3uog, .table th.tinytable_css_5amb682chsay5gfp3uog {    text-align: center; }\n.table td.tinytable_css_2ciy6s05tji7kalbu35s, .table th.tinytable_css_2ciy6s05tji7kalbu35s {    text-align: center; }\n.table td.tinytable_css_chunal7ivt3gq1pvwxny, .table th.tinytable_css_chunal7ivt3gq1pvwxny {    text-align: center; }\n.table td.tinytable_css_mqolmz6p049tp3ivkv1v, .table th.tinytable_css_mqolmz6p049tp3ivkv1v {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_mmbpz33idt27kawl1slv\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        <caption>Table 1: Predictors of Conflict Onset</caption>\n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">Ethnicity</th>\n                <th scope=\"col\">Democracy</th>\n                <th scope=\"col\">Terrain</th>\n                <th scope=\"col\">Full Model</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='5'>+ p < 0.1, * p < 0.05, ** p < 0.01, *** p < 0.001</td></tr>\n<tr><td colspan='5'>See appendix for data sources.</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td>Ethnic Frac   </td>\n                  <td>0.744*   </td>\n                  <td>         </td>\n                  <td>         </td>\n                  <td>0.800*   </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(0.367)  </td>\n                  <td>         </td>\n                  <td>         </td>\n                  <td>(0.381)  </td>\n                </tr>\n                <tr>\n                  <td>Religions Frac</td>\n                  <td>-0.481   </td>\n                  <td>         </td>\n                  <td>         </td>\n                  <td>-0.391   </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(0.411)  </td>\n                  <td>         </td>\n                  <td>         </td>\n                  <td>(0.417)  </td>\n                </tr>\n                <tr>\n                  <td>Polyarchy     </td>\n                  <td>         </td>\n                  <td>-0.228   </td>\n                  <td>         </td>\n                  <td>-0.602   </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>         </td>\n                  <td>(0.436)  </td>\n                  <td>         </td>\n                  <td>(0.509)  </td>\n                </tr>\n                <tr>\n                  <td>Terrain       </td>\n                  <td>         </td>\n                  <td>         </td>\n                  <td>0.031    </td>\n                  <td>0.064    </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>         </td>\n                  <td>         </td>\n                  <td>(0.076)  </td>\n                  <td>(0.076)  </td>\n                </tr>\n                <tr>\n                  <td>Per capita GDP</td>\n                  <td>-0.474***</td>\n                  <td>-0.512***</td>\n                  <td>-0.543***</td>\n                  <td>-0.372** </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(0.104)  </td>\n                  <td>(0.108)  </td>\n                  <td>(0.092)  </td>\n                  <td>(0.121)  </td>\n                </tr>\n                <tr>\n                  <td>Population    </td>\n                  <td>0.282*** </td>\n                  <td>0.297*** </td>\n                  <td>0.299*** </td>\n                  <td>0.293*** </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(0.067)  </td>\n                  <td>(0.051)  </td>\n                  <td>(0.050)  </td>\n                  <td>(0.067)  </td>\n                </tr>\n                <tr>\n                  <td>Intercept     </td>\n                  <td>-4.703***</td>\n                  <td>-4.407***</td>\n                  <td>-4.296***</td>\n                  <td>-5.693***</td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(1.327)  </td>\n                  <td>(1.205)  </td>\n                  <td>(1.143)  </td>\n                  <td>(1.408)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.      </td>\n                  <td>6364     </td>\n                  <td>6772     </td>\n                  <td>6840     </td>\n                  <td>6151     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_s8214iixf66quedwpurg(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_mmbpz33idt27kawl1slv\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_mmbpz33idt27kawl1slv');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_s8214iixf66quedwpurg(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_mmbpz33idt27kawl1slv\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(0, 0, 'tinytable_css_vi3fxj3oks1c5v08q3fx') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(0, 1, 'tinytable_css_vi3fxj3oks1c5v08q3fx') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(0, 2, 'tinytable_css_vi3fxj3oks1c5v08q3fx') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(0, 3, 'tinytable_css_vi3fxj3oks1c5v08q3fx') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(0, 4, 'tinytable_css_vi3fxj3oks1c5v08q3fx') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(0, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(1, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(2, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(3, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(4, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(5, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(6, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(7, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(8, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(9, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(10, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(11, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(12, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(13, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(14, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(15, 0, 'tinytable_css_b743nkjvco084pydr6sg') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(0, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(1, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(2, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(3, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(4, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(5, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(6, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(7, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(8, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(9, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(10, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(11, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(12, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(13, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(14, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(15, 1, 'tinytable_css_aw7qc07l3wf9tqurfl14') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(0, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(1, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(2, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(3, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(4, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(5, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(6, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(7, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(8, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(9, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(10, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(11, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(12, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(13, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(14, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(15, 2, 'tinytable_css_5amb682chsay5gfp3uog') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(0, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(1, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(2, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(3, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(4, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(5, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(6, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(7, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(8, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(9, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(10, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(11, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(12, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(13, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(14, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(15, 3, 'tinytable_css_2ciy6s05tji7kalbu35s') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(0, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(1, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(2, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(3, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(4, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(5, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(6, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(7, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(8, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(9, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(10, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(11, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(12, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(13, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(14, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(15, 4, 'tinytable_css_chunal7ivt3gq1pvwxny') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(14, 0, 'tinytable_css_mqolmz6p049tp3ivkv1v') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(14, 1, 'tinytable_css_mqolmz6p049tp3ivkv1v') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(14, 2, 'tinytable_css_mqolmz6p049tp3ivkv1v') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(14, 3, 'tinytable_css_mqolmz6p049tp3ivkv1v') })\nwindow.addEventListener('load', function () { styleCell_tinytable_s8214iixf66quedwpurg(14, 4, 'tinytable_css_mqolmz6p049tp3ivkv1v') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n## Your Turn!\n\n<br>\n\n- Got to the [peacesciencer](https://svmiller.com/peacesciencer/reference/index.html) documentation\n- How close are our data to F&L's?\n- Could we change something to better approximate their results? \n- Run multiple models using different predictors\n- Display the models using `modelsummary`\n- Try to get as close to F&L as you can! \n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer2\" data-update-every=\"1\" tabindex=\"0\" style=\"right:10%;bottom:5%;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">12</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n# Coefficient Plots\n\n## {.smaller}\n\n<br> \n\nThis don't look too good...\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nmodelsummary(conflict_model, \n             stars = TRUE,  \n             gof_map = c(\"nobs\"),\n             coef_map = coef_map,\n             title = caption, \n             notes = reference)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_hranaqey2idd5cfxjsob</title>\n    <style>\n.table td.tinytable_css_rwel1loitbes700d4cvi, .table th.tinytable_css_rwel1loitbes700d4cvi {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_u8p6lnx8yluwwcloe1p2, .table th.tinytable_css_u8p6lnx8yluwwcloe1p2 {    text-align: left; }\n.table td.tinytable_css_2b1qkqqug71rj4uxdpi1, .table th.tinytable_css_2b1qkqqug71rj4uxdpi1 {    text-align: center; }\n.table td.tinytable_css_hsp6hlsnjnr24xpr7r2y, .table th.tinytable_css_hsp6hlsnjnr24xpr7r2y {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_hranaqey2idd5cfxjsob\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        <caption>Table 1: Predictors of Conflict Onset</caption>\n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='2'>+ p < 0.1, * p < 0.05, ** p < 0.01, *** p < 0.001</td></tr>\n<tr><td colspan='2'>See appendix for data sources.</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td>Ethnic Frac   </td>\n                  <td>0.800*   </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(0.381)  </td>\n                </tr>\n                <tr>\n                  <td>Religions Frac</td>\n                  <td>-0.391   </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(0.417)  </td>\n                </tr>\n                <tr>\n                  <td>Polyarchy     </td>\n                  <td>-0.602   </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(0.509)  </td>\n                </tr>\n                <tr>\n                  <td>Terrain       </td>\n                  <td>0.064    </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(0.076)  </td>\n                </tr>\n                <tr>\n                  <td>Per capita GDP</td>\n                  <td>-0.372** </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(0.121)  </td>\n                </tr>\n                <tr>\n                  <td>Population    </td>\n                  <td>0.293*** </td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(0.067)  </td>\n                </tr>\n                <tr>\n                  <td>Intercept     </td>\n                  <td>-5.693***</td>\n                </tr>\n                <tr>\n                  <td>              </td>\n                  <td>(1.408)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.      </td>\n                  <td>6151     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_yb7fzloqw35tgfuhjvls(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_hranaqey2idd5cfxjsob\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_hranaqey2idd5cfxjsob');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_yb7fzloqw35tgfuhjvls(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_hranaqey2idd5cfxjsob\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(0, 0, 'tinytable_css_rwel1loitbes700d4cvi') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(0, 1, 'tinytable_css_rwel1loitbes700d4cvi') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(0, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(1, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(2, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(3, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(4, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(5, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(6, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(7, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(8, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(9, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(10, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(11, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(12, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(13, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(14, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(15, 0, 'tinytable_css_u8p6lnx8yluwwcloe1p2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(0, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(1, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(2, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(3, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(4, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(5, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(6, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(7, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(8, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(9, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(10, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(11, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(12, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(13, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(14, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(15, 1, 'tinytable_css_2b1qkqqug71rj4uxdpi1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(14, 0, 'tinytable_css_hsp6hlsnjnr24xpr7r2y') })\nwindow.addEventListener('load', function () { styleCell_tinytable_yb7fzloqw35tgfuhjvls(14, 1, 'tinytable_css_hsp6hlsnjnr24xpr7r2y') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n## \n\n<br> \n\nSo we can use `ggplot` to make a coefficient plot instead...\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nlibrary(ggplot2)\n\nmodelplot(conflict_model, \n          coef_map = rev(coef_map), # rev() reverses list order\n          coef_omit = \"Intercept\", \n          color = \"blue\") + # use plus to add customizations like any ggplot object\n  geom_vline(xintercept = 0, color = \"red\", linetype = \"dashed\", linewidth = .75) + # red 0 line\n  labs(\n    title = \"Figure 1: Predictors of Conflict Onset\",\n    caption = \"See appendix for data sources.\"\n  ) \n```\n\n::: {.cell-output-display}\n![](week-6.2_files/figure-revealjs/coef_plot-1.png){width=960}\n:::\n:::\n\n\n## Your Turn!\n\n- Take one of your models\n- Use `modelplot` to create a coefficient plot of it\n- Customize the plot to your liking\n- Interpret the results\n- Discuss advantages of coefficient plots with a neighbor\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer3\" data-update-every=\"1\" tabindex=\"0\" style=\"right:10%;bottom:5%;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">12</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n",
    "supporting": [
      "week-6.2_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}