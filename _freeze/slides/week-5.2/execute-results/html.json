{
  "hash": "b5876951b4c3dcb711241a6e275df902",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Multiple Regression\ndate: today\ndate-format: long\nfooter: \"[IAFF 6501 Website](https://quant4ia.rocks/)\"\nlogo: images/iaff6501-logo.png\nformat:\n  revealjs:\n    theme: [simple, custom.scss]\n    transition: fade\n    slide-number: true\n    #multiplex: true\n    chalkboard: true\nexecute:\n  echo: false\n  message: false\n  warning: false\n  freeze: auto\n---\n\n\n## Load packages \n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(vdemdata)\n```\n:::\n\n\n\n## Load VDEM Data {.smaller}\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodelData <- vdem |>\n  filter(year == 2006) |> \n  select(country_name, \n         libdem = v2x_libdem, \n         wealth = e_gdppc, \n         oil_rents = e_total_oil_income_pc,\n         polarization = v2cacamps, \n         corruption = v2x_corr, \n         judicial_review = v2jureview_ord, \n         region = e_regionpol_6C, \n         regime = v2x_regime) |> \n  mutate(log_wealth = log(wealth), \n         region = factor(\n           region,\n           labels=c(\"Eastern Europe\", \n             \"Latin America\", \n             \"MENA\", \n             \"SSAfrica\", \n             \"Western Europe and North America\", \n             \"Asia and Pacific\"))\n          )\n\nglimpse(modelData)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 177\nColumns: 10\n$ country_name    <chr> \"Mexico\", \"Suriname\", \"Sweden\", \"Switzerland\", \"Ghana\"…\n$ libdem          <dbl> 0.480, 0.655, 0.882, 0.842, 0.633, 0.652, 0.776, 0.017…\n$ wealth          <dbl> 14.584, 10.008, 42.378, 48.410, 3.284, 10.580, 37.068,…\n$ oil_rents       <dbl> 694.847, 639.506, 0.000, 0.000, 6.380, 10.060, 2.635, …\n$ polarization    <dbl> 0.102, -1.783, -2.254, -1.732, -0.615, 0.065, -2.261, …\n$ corruption      <dbl> 0.608, 0.212, 0.004, 0.023, 0.630, 0.423, 0.108, 0.888…\n$ judicial_review <dbl> 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, …\n$ region          <fct> Latin America, Latin America, Western Europe and North…\n$ regime          <dbl> 2, 2, 3, 3, 3, 3, 3, 0, 1, 2, 1, 1, 2, 3, 2, 3, 3, 2, …\n$ log_wealth      <dbl> 2.6799250, 2.3033848, 3.7466294, 3.8797064, 1.1890622,…\n```\n\n\n:::\n:::\n\n\n## Linear Model with Multiple Predictors\n\n<br>\n\n- Previously, we were interested in GDP per capita as a predictor of democracy\n- Now, let's consider another predictor: polarization (also measured by V-Dem)\n\n## Polarization Measure in the USA\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-5.2_files/figure-revealjs/unnamed-chunk-3-1.png){width=960}\n:::\n:::\n\n\n## Polarization and Democracy in 2006\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-5.2_files/figure-revealjs/unnamed-chunk-4-1.png){width=960}\n:::\n:::\n\n\n## Model with One Predictor\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel1 <- lm(libdem ~ polarization, data = modelData) \n\nsummary(model1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = libdem ~ polarization, data = modelData)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.59898 -0.16888 -0.02296  0.19157  0.55636 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)   0.37588    0.01871  20.086  < 2e-16 ***\npolarization -0.09137    0.01389  -6.579  5.3e-10 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.2405 on 175 degrees of freedom\nMultiple R-squared:  0.1983,\tAdjusted R-squared:  0.1937 \nF-statistic: 43.28 on 1 and 175 DF,  p-value: 5.299e-10\n```\n\n\n:::\n:::\n\n<br>\n\n| How do we interpret the intercept and the slope estimate?\n| Significance? \n\n## Model with Two Predictors\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel2 <- lm(libdem ~ polarization + log_wealth, data = modelData) \n\nsummary(model2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = libdem ~ polarization + log_wealth, data = modelData)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.65363 -0.16094  0.04912  0.18077  0.42814 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)   0.19571    0.03399   5.758 3.90e-08 ***\npolarization -0.05837    0.01376  -4.242 3.63e-05 ***\nlog_wealth    0.09439    0.01512   6.242 3.34e-09 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.2196 on 170 degrees of freedom\n  (4 observations deleted due to missingness)\nMultiple R-squared:  0.347,\tAdjusted R-squared:  0.3393 \nF-statistic: 45.17 on 2 and 170 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n\n## Model with Two Predictors\n\n<br>\n\n$$\\hat{Y_i} = a + b_1*Polarization + b_2*GDPpc$$ \n\n$$\\hat{Y_i} = 0.18 + -0.05*Polarization + 0.10*GDPpc$$ \n\n\n## Model with Two Predictors \n\n<br>\n\n$$\\hat{Y_i} = a + b_1*Polarization + b_2*GDPpc$$ \n\n$$\\hat{Y_i} = 0.18 + -0.05*Polarization + 0.10*GDPpc$$ \n\n$a$ is the predicted level of Y when BOTH GDP per capita and polarization are equal to 0\n\n## Model with Two Predictors \n\n<br>\n\n$$\\hat{Y_i} = a + b_1*Polarization + b_2*GDPpc$$ \n\n$$\\hat{Y_i} = 0.18 + -0.05*Polarization + 0.10*GDPpc$$ \n\n- $b_1$ is the impact of a 1-unit change in polarization on the predicted level of Y, **holding GDP per capita fixed** (all else equal)\n- The relationship between polarization and democracy, controlling for wealth\n\n## Model with Two Predictors \n\n$$\\hat{Y_i} = a + b_1*Polarization + b_2*GDPpc$$ \n\n$$\\hat{Y_i} = 0.18 + -0.05*Polarization + 0.10*GDPpc$$ \n\n- $b_2$ is the impact of a 1-unit change in GDP per capita on the predicted level of Y, **holding polarization fixed** (all else equal)\n- The relationship between wealth and democracy, controlling for polarization\n\n## Model with Two Predictors\n\n<br>\n\n$$\\hat{Y_i} = a + b_1*Polarization + b_2*GDPpc$$ \n\n\n- OLS is searching for combination of $a$, $b_1$, and $b_2$ that minimize sum of squared residuals\n- Same logic as model with one predictor, just more complicated\n\n## Model with Three Predictors \n\n<br>\n\n$$\\hat{Y_i} = a + b_1*Polarization + b_2*GDPpc + b_3*OilRents$$ \n\n## Model with Three Predictors \n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel3 <- lm(libdem ~ polarization + log_wealth + oil_rents, data = modelData) \n\nsummary(model3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = libdem ~ polarization + log_wealth + oil_rents, \n    data = modelData)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.54170 -0.14140  0.03997  0.13419  0.67472 \n\nCoefficients:\n               Estimate Std. Error t value Pr(>|t|)    \n(Intercept)   1.531e-01  3.174e-02   4.823 3.30e-06 ***\npolarization -5.774e-02  1.283e-02  -4.499 1.32e-05 ***\nlog_wealth    1.309e-01  1.501e-02   8.720 3.65e-15 ***\noil_rents    -4.133e-05  6.074e-06  -6.805 1.98e-10 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1973 on 158 degrees of freedom\n  (15 observations deleted due to missingness)\nMultiple R-squared:  0.486,\tAdjusted R-squared:  0.4763 \nF-statistic:  49.8 on 3 and 158 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n\n## Model with Three Predictors {.smaller}\n\n<br>\n\n$$\\hat{Y_i} = a + b_1*Polarization + b_2*GDPpc + b_3*OilRents$$ \n\n$$\\hat{Y_i} = a + -.05*Polarization + .13*GDPpc + .00004*OilRents$$ \n<br>\n\n| $b_3$ is the impact of a 1-unit change in oil revenues per capita on the predicted level of Y, **holding polarization and GDP fixed** (all else equal)\n\n## Your Turn! {.smaller}\n\n<br>\n\n- In the last session, you examined levels of democracy and corruption\n- Now, let's fit a multiple regression model predicting corruption with two predictors: democracy (libdem) and polarization (polarization)\n- Then, interpret the coefficients\n- Estimate a second multiple regression model that adds in GDP per capita (lg_gdppc)\n- Interpret the coefficients\n- What happens to the coefficients of the other variables when we add GDP per capita to the model?\n- Try additional predicotrs if there is time\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer1\" data-update-every=\"1\" tabindex=\"0\" style=\"right:10%;bottom:10%;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">10</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## Two Predictors\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorruption1 <- lm(corruption ~ libdem + polarization , data = modelData) \n\nsummary(corruption1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = corruption ~ libdem + polarization, data = modelData)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.60428 -0.10445  0.01083  0.13505  0.35800 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)   0.85264    0.02666  31.979  < 2e-16 ***\nlibdem       -0.78039    0.05924 -13.173  < 2e-16 ***\npolarization  0.04589    0.01216   3.775 0.000219 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1885 on 174 degrees of freedom\nMultiple R-squared:  0.6246,\tAdjusted R-squared:  0.6203 \nF-statistic: 144.7 on 2 and 174 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n\n## Adding GDP per capita\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorruption2 <- lm(corruption ~ libdem + polarization + log_wealth, data = modelData) \n\nsummary(corruption2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = corruption ~ libdem + polarization + log_wealth, \n    data = modelData)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.50248 -0.08621  0.00172  0.12411  0.32178 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)   0.96239    0.02780  34.614  < 2e-16 ***\nlibdem       -0.61801    0.05739 -10.768  < 2e-16 ***\npolarization  0.02975    0.01083   2.748  0.00666 ** \nlog_wealth   -0.08641    0.01255  -6.888 1.07e-10 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1643 on 169 degrees of freedom\n  (4 observations deleted due to missingness)\nMultiple R-squared:  0.7171,\tAdjusted R-squared:  0.7121 \nF-statistic: 142.8 on 3 and 169 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n\n# Categorical Variables\n\n## Judicial Review and Democracy\n\n<br>\n\n**Judicial Review:**\n\n- Do high courts (Supreme Court, Constitutional Court, etc) have the power to rule on whether laws or policies are constitutional/legal? (Yes or No)\n- Dimension of Judicial Independence\n\n## Judicial Review and Democracy\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-5.2_files/figure-revealjs/judicial_review-1.png){width=960}\n:::\n:::\n\n\n## Judicial Review and Democracy\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\njr_dem_model <- lm(libdem ~ factor(judicial_review), data = modelData)\n\nsummary(jr_dem_model)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = libdem ~ factor(judicial_review), data = modelData)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.41492 -0.18692 -0.05246  0.20308  0.66654 \n\nCoefficients:\n                         Estimate Std. Error t value Pr(>|t|)    \n(Intercept)               0.17946    0.04927   3.643 0.000355 ***\nfactor(judicial_review)1  0.26746    0.05334   5.014  1.3e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.2512 on 175 degrees of freedom\nMultiple R-squared:  0.1256,\tAdjusted R-squared:  0.1206 \nF-statistic: 25.14 on 1 and 175 DF,  p-value: 1.297e-06\n```\n\n\n:::\n:::\n\n\n## Judicial Review and Democracy {.smaller}\n\n<br>\n\n$$\\widehat{Democracy_{i}} = 0.17 + 0.28*JudicialReview(yes)$$\n\n- **Slope:** countries with judicial review are expected, on average, to be 0.28 units more democratic on the liberal democracy index\n  - Compares baseline level (Judicial Review = 0) to the other level (Judicial Review = 1)\n- **Intercept:** average democracy score of countries without judicial review\n- Average democracy score of countries with judicial review is 0.17 + 0.28 = 0.45\n\n## Dummy Variables\n\n<br>\n\n- When the categorical explanatory variable has many levels, they're encoded to **dummy variables** \n- We always leave one category out of the model, as the omitted reference category\n- Each coefficient describes is the expected difference between level of the factor **and the baseline level**\n- Everything is relative to the omitted reference category\n\n## Democracy and World Region\n\n<br>\n\n- Does region predict levels of democracy?\n- Since Eastern Europe is the first category, default in R is to use that as the omitted category in models.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlevels(modelData$region)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Eastern Europe\"                   \"Latin America\"                   \n[3] \"MENA\"                             \"SSAfrica\"                        \n[5] \"Western Europe and North America\" \"Asia and Pacific\"                \n```\n\n\n:::\n:::\n\n\n## Democracy and World Region {.smaller}\n\nHow should we interpret intercept?  How about the coefficient on Latin America?\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nregional_model1 <- lm(libdem ~ region, data = modelData)\n\nsummary(regional_model1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = libdem ~ region, data = modelData)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.45792 -0.13186 -0.02004  0.11414  0.49320 \n\nCoefficients:\n                                       Estimate Std. Error t value Pr(>|t|)    \n(Intercept)                             0.43450    0.03608  12.042  < 2e-16 ***\nregionLatin America                     0.06642    0.05352   1.241  0.21629    \nregionMENA                             -0.23570    0.05705  -4.131 5.63e-05 ***\nregionSSAfrica                         -0.13946    0.04564  -3.056  0.00261 ** \nregionWestern Europe and North America  0.37554    0.05412   6.939 7.84e-11 ***\nregionAsia and Pacific                 -0.13364    0.05193  -2.573  0.01092 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1976 on 171 degrees of freedom\nMultiple R-squared:  0.4712,\tAdjusted R-squared:  0.4557 \nF-statistic: 30.47 on 5 and 171 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n\n## Democracy and World Region {.smaller}\n\n<br>\n\nWhat if you want a different baseline category? How do we interpret now?\n\n<br>\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# make SS Africa the reference category\nmodelData <- modelData |> \nmutate(newReg = relevel(region, ref=4)) \n\nregional_model2 <- lm(libdem ~ newReg, data = modelData) \n\nsummary(regional_model2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = libdem ~ newReg, data = modelData)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.45792 -0.13186 -0.02004  0.11414  0.49320 \n\nCoefficients:\n                                        Estimate Std. Error t value Pr(>|t|)\n(Intercept)                             0.295040   0.027950  10.556  < 2e-16\nnewRegEastern Europe                    0.139460   0.045641   3.056  0.00261\nnewRegLatin America                     0.205880   0.048410   4.253 3.47e-05\nnewRegMENA                             -0.096240   0.052289  -1.841  0.06742\nnewRegWestern Europe and North America  0.515002   0.049078  10.494  < 2e-16\nnewRegAsia and Pacific                  0.005817   0.046649   0.125  0.90091\n                                          \n(Intercept)                            ***\nnewRegEastern Europe                   ** \nnewRegLatin America                    ***\nnewRegMENA                             .  \nnewRegWestern Europe and North America ***\nnewRegAsia and Pacific                    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1976 on 171 degrees of freedom\nMultiple R-squared:  0.4712,\tAdjusted R-squared:  0.4557 \nF-statistic: 30.47 on 5 and 171 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n\n## Your Turn\n\n<br>\n\n**Which types of regime have more corruption?**\n\n<br>\n \nV-Dem also includes a categorial regime variable: Closed autocracy (0), Electoral Autocracy (1), Electoral Democracy (2), Liberal Democracy (3)\n\n## Your Turn\n\n<br>\n\n**Which types of regime have more corruption?**\n\n<br>\n\n \nFirst, let's make this an easier factor variable to work with.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Make nicer regime factor variable\nmodelData <- modelData |> \n  mutate(regime = factor(regime,\n                         labels = c(\"Closed Autocracy\",\n                                   \"Electoral Autocracy\",\n                                  \"Electoral Democracy\",\n                                  \"Liberal Democracy\")))\nlevels(modelData$regime)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Closed Autocracy\"    \"Electoral Autocracy\" \"Electoral Democracy\"\n[4] \"Liberal Democracy\"  \n```\n\n\n:::\n:::\n\n\n## Your Turn {.smaller}\n\n<br>\n\n**Which types of regime have more corruption?**\n\n<br>\n\n- Filter data to include only the year 2019 (or run the code to use modelData)\n- Make a plot to visualize the relationship between regime type and level of corruption.          - Which kind of plot is best in this situation?\n- Fit a linear model\n- Interpret the intercept and coefficients\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer2\" data-update-every=\"1\" tabindex=\"0\" style=\"right:10%;bottom:10%;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">10</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## Visualization\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-5.2_files/figure-revealjs/corruption_plot-1.png){width=960}\n:::\n:::\n\n\n## Model\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = corruption ~ regime, data = modelData)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.74036 -0.09720  0.01444  0.13544  0.50102 \n\nCoefficients:\n                          Estimate Std. Error t value Pr(>|t|)    \n(Intercept)                0.59820    0.03973  15.055  < 2e-16 ***\nregimeElectoral Autocracy  0.15116    0.04753   3.180  0.00174 ** \nregimeElectoral Democracy -0.06064    0.04835  -1.254  0.21146    \nregimeLiberal Democracy   -0.46922    0.05019  -9.350  < 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1987 on 173 degrees of freedom\nMultiple R-squared:  0.5854,\tAdjusted R-squared:  0.5782 \nF-statistic: 81.43 on 3 and 173 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n\n## Create Your Own Model {.smaller}\n\n<br>\n\n- What is a theory that you would like to test with V-Dem data?\n- What is the dependent variable? \n- What are the independent variables? \n- Map out steps to wrangle the data and fit a regression model\n- What do you expect to find? \n- Now go ahead and wrangle the data\n- Fit the model\n- Interpret the coefficients and their significance\n- Did the results match your expectations?",
    "supporting": [
      "week-5.2_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}